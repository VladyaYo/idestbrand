{"ast":null,"code":"var _jsxFileName = \"/Users/vladtishenko/Work/project/idest/frontend/pages/vacancies.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport classnames from \"classnames\";\nimport Layout from \"../components/layout\";\nimport Seo from \"../components/seo\";\nimport { fetchAPI } from \"../lib/api\";\nimport VacanciesCard from \"../components/vacanciesCards\";\nimport ModalVacancies from \"../components/Modal/modalVacancies\";\nimport { Formik, Form, Field } from 'formik';\nimport * as yup from 'yup'; // import 'yup-phone';\n\nimport { Input, Modal, Button, Upload } from \"antd\";\n\nconst Vacancies = ({\n  vacancies,\n  homepage\n}) => {\n  const LeadSchema = yup.object().shape({\n    name: yup.string().required(),\n    phone: yup.string().phone('ua', false, 'Invalid phone').required(),\n    email: yup.string().email().required()\n  });\n  const {\n    0: isModalVisible,\n    1: setIsModalVisible\n  } = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const onFinish = values => {\n    console.log('Success:', values);\n    setIsModalVisible(false);\n  };\n\n  const onFinishFailed = (errorInfo, values) => {\n    console.log('Failed:', errorInfo, values);\n  };\n\n  const submitHandler = async (values, {\n    setSubmitting,\n    setErrors,\n    resetForm\n  }) => {\n    setLoading(true);\n\n    try {\n      setErrors({\n        api: null\n      });\n      await fetchAPI('/lead-form-submissions', {\n        method: 'POST',\n        body: JSON.stringify({\n          name: values.name,\n          phone: values.phone,\n          email: values.email\n        })\n      });\n      resetForm({});\n      setVisibleSuccessModal(true);\n    } catch (err) {\n      setErrors({\n        api: err.message\n      });\n    }\n\n    setLoading(false);\n    setSubmitting(false);\n  };\n\n  return __jsx(Layout, {\n    pageClass: \"vacancies\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, __jsx(Seo, {\n    seo: homepage.seo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), __jsx(\"section\", {\n    className: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, vacancies.main.heading), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, vacancies.main.about)))), __jsx(\"section\", {\n    className: \"vacanciesCards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, vacancies.CardVacancies ? vacancies.CardVacancies.map(card => {\n    return __jsx(VacanciesCard, {\n      key: card.id,\n      card: card,\n      showModal: showModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }) // console.log(card)\n    ;\n  }) : null)), __jsx(Modal, {\n    wrapClassName: \"modalVacancies\",\n    visible: isModalVisible,\n    onOk: handleOk,\n    footer: [],\n    onCancel: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Apply for a vacancy\"), __jsx(Formik, {\n    initialValues: {\n      name: '',\n      phone: '',\n      email: ''\n    },\n    validationSchema: LeadSchema,\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, ({\n    errors,\n    touched,\n    isSubmitting,\n    handleChange,\n    handleBlur\n  }) => __jsx(Form, {\n    name: \"Apply for a vacancy\",\n    initialValues: {\n      remember: true\n    } // onFinish={submitHandler}\n    ,\n    onFinishFailed: onFinishFailed,\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Item, {\n    name: \"username\",\n    rules: [{\n      required: true,\n      message: 'Please input your name!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, __jsx(Input, {\n    placeholder: \"Username*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  })), __jsx(Form.Item, {\n    name: \"email\",\n    rules: [{\n      type: 'email',\n      required: true,\n      message: 'Please input your email!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, __jsx(Input, {\n    placeholder: \"Email*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  })), __jsx(Form.Item, {\n    name: \"phone\",\n    rules: [{\n      required: true,\n      message: 'Please input your phone number!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, __jsx(Input, {\n    placeholder: \"Phone Number*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  })), __jsx(Form.Item, {\n    name: \"portfolio link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, __jsx(Input, {\n    placeholder: \"Portfolio link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  })), __jsx(Form.Item, {\n    name: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, __jsx(Input.TextArea, {\n    placeholder: \"Your message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  })), __jsx(Form.Item, {\n    name: \"CV\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, __jsx(Upload, {\n    listType: \"fileList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, __jsx(Button, {\n    className: \"uploadBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }, __jsx(\"svg\", {\n    width: \"18\",\n    height: \"19\",\n    viewBox: \"0 0 18 19\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 37\n    }\n  }, __jsx(\"path\", {\n    d: \"M14.0129 7.41443L14.0129 7.4144C14.6831 6.75918 15.0618 5.86808 15.0618 4.93648C15.0618 4.00488 14.6831 3.11379 14.0129 2.45857C13.3431 1.80373 12.4371 1.43779 11.4946 1.43779C10.5521 1.43779 9.64604 1.80373 8.97624 2.45857L3.19532 8.11044C2.66403 8.61753 2.2402 9.22319 1.94893 9.89273C1.65724 10.5633 1.50446 11.2842 1.49979 12.0136C1.49511 12.7429 1.63864 13.4657 1.92173 14.1398C2.20482 14.8139 2.62167 15.4255 3.14754 15.9396C3.67338 16.4536 4.29777 16.8598 4.9842 17.1353C5.6706 17.4107 6.40574 17.55 7.14706 17.5454C7.88838 17.5407 8.62165 17.3922 9.30443 17.1082C9.9862 16.8246 10.6044 16.4113 11.1231 15.8918L16.5544 10.5826L17.2848 11.2967L11.8673 16.5932C11.2497 17.197 10.5159 17.6766 9.70745 18.004C8.89901 18.3314 8.03215 18.5 7.15646 18.5C6.28078 18.5 5.41392 18.3314 4.60548 18.004C3.79706 17.6766 3.06324 17.197 2.44562 16.5932C1.82803 15.9894 1.33874 15.2732 1.00514 14.4858C0.671545 13.6984 0.5 12.8549 0.5 12.0033C0.5 11.1517 0.671545 10.3082 1.00514 9.52082C1.33874 8.73341 1.82803 8.0172 2.44562 7.4134L8.22659 1.76348C9.09529 0.944696 10.2602 0.48988 11.4714 0.500171C12.6841 0.510473 13.8419 0.986103 14.6961 1.82122C15.5499 2.65599 16.0321 3.78284 16.0426 4.95841C16.053 6.13262 15.592 7.2661 14.7551 8.1148L8.97629 13.7676C8.73834 14.0002 8.45525 14.1853 8.14291 14.3117C7.83054 14.4382 7.49539 14.5034 7.15667 14.5033C6.81795 14.5033 6.48281 14.438 6.17048 14.3115C5.85817 14.185 5.57513 13.9998 5.33724 13.7672C5.09937 13.5346 4.91131 13.2591 4.78323 12.9567C4.65516 12.6543 4.58942 12.3306 4.58946 12.004C4.58949 11.6774 4.65531 11.3537 4.78346 11.0514C4.91161 10.749 5.09974 10.4735 5.33766 10.241L5.33771 10.2409L10.7713 4.92861L11.5017 5.64265L6.08797 10.9364C5.94371 11.0735 5.82793 11.2377 5.74786 11.42C5.66713 11.6037 5.62447 11.8017 5.62268 12.0024C5.6209 12.2032 5.66004 12.4019 5.73751 12.5871C5.81497 12.7722 5.92905 12.9396 6.07251 13.0798C6.21594 13.2201 6.38588 13.3304 6.57212 13.4049C6.75834 13.4794 6.95749 13.5167 7.15805 13.515C7.35862 13.5133 7.55711 13.4726 7.74203 13.3949C7.92548 13.3179 8.09229 13.2058 8.23257 13.0647L14.0129 7.41443Z\",\n    fill: \"black\",\n    stroke: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 41\n    }\n  }))), \"Attache your CV\"))), __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, __jsx(Button, {\n    className: \"submit\",\n    type: \"primary\",\n    htmlType: \"submit\",\n    onClick: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, \"Send\"))))));\n};\n\nexport async function getStaticProps() {\n  // Run API calls in parallel\n  const [vacancies, homepage] = await Promise.all([fetchAPI(\"/vacancies\"), fetchAPI(\"/homepage\") // fetchAPI(\"vacancies-message\")\n  ]);\n  return {\n    props: {\n      vacancies,\n      homepage\n    },\n    revalidate: 1\n  };\n}\nexport default Vacancies;","map":{"version":3,"sources":["/Users/vladtishenko/Work/project/idest/frontend/pages/vacancies.js"],"names":["React","useState","classnames","Layout","Seo","fetchAPI","VacanciesCard","ModalVacancies","Formik","Form","Field","yup","Input","Modal","Button","Upload","Vacancies","vacancies","homepage","LeadSchema","object","shape","name","string","required","phone","email","isModalVisible","setIsModalVisible","showModal","handleOk","handleCancel","onFinish","values","console","log","onFinishFailed","errorInfo","submitHandler","setSubmitting","setErrors","resetForm","setLoading","api","method","body","JSON","stringify","setVisibleSuccessModal","err","message","seo","main","heading","about","CardVacancies","map","card","id","errors","touched","isSubmitting","handleChange","handleBlur","remember","type","getStaticProps","Promise","all","props","revalidate"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport classnames from \"classnames\"\nimport Layout from \"../components/layout\";\nimport Seo from \"../components/seo\";\nimport {fetchAPI} from \"../lib/api\";\nimport VacanciesCard from \"../components/vacanciesCards\";\nimport ModalVacancies from \"../components/Modal/modalVacancies\";\nimport {Formik, Form, Field} from 'formik';\nimport * as yup from 'yup';\n// import 'yup-phone';\nimport { Input, Modal, Button, Upload} from \"antd\";\n\n\nconst Vacancies = ({ vacancies, homepage, }) => {\n\n    const LeadSchema = yup.object().shape({\n        name: yup.string().required(),\n        phone: yup.string().phone('ua', false, 'Invalid phone').required(),\n        email: yup.string().email().required(),\n    })\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleOk = () => {\n        setIsModalVisible(false);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n    };\n    const onFinish = (values) => {\n        console.log('Success:', values);\n        setIsModalVisible(false);\n    };\n\n    const onFinishFailed = (errorInfo, values) => {\n        console.log('Failed:', errorInfo, values);\n    };\n    const submitHandler = async (values, {setSubmitting, setErrors, resetForm}) => {\n        setLoading(true)\n        try {\n            setErrors({api: null})\n            await fetchAPI('/lead-form-submissions', {\n                method: 'POST',\n                body: JSON.stringify({\n                    name: values.name,\n                    phone: values.phone,\n                    email: values.email\n                }),\n            })\n            resetForm({});\n            setVisibleSuccessModal(true);\n        } catch (err) {\n            setErrors({api: err.message})\n        }\n        setLoading(false)\n        setSubmitting(false)\n    }\n    return (\n        <Layout pageClass=\"vacancies\">\n            <Seo seo={homepage.seo} />\n            <section className=\"head\">\n                <div className=\"container\">\n                    <div className=\"text\">\n                        <h1>{vacancies.main.heading}</h1>\n                        <p>{vacancies.main.about}</p>\n                    </div>\n                </div>\n            </section>\n            <section className=\"vacanciesCards\">\n                <div className=\"container\">\n                    { vacancies.CardVacancies ?\n                        vacancies.CardVacancies.map((card) => {\n                            return(\n                                <VacanciesCard  key={card.id} card={card} showModal={showModal}/>\n                                // console.log(card)\n                            )})\n                        : null}\n                </div>\n            </section>\n            {/*<ModalVacancies />*/}\n            <Modal\n                wrapClassName=\"modalVacancies\"\n                visible={isModalVisible}\n                onOk={handleOk}\n                footer={[]}\n                onCancel={handleCancel}\n            >\n                <h4>Apply for a vacancy</h4>\n                <Formik\n                    initialValues={{name: '', phone: '', email: ''}}\n                    validationSchema={LeadSchema}\n                    onSubmit={submitHandler}\n                >\n                    {({\n                          errors,\n                          touched,\n                          isSubmitting,\n                          handleChange,\n                          handleBlur,\n                      }) => (\n                <Form\n                    name=\"Apply for a vacancy\"\n                    initialValues={{ remember: true }}\n                    // onFinish={submitHandler}\n                    onFinishFailed={onFinishFailed}\n                    onSubmit={submitHandler}\n                >\n                    <Form.Item\n                        name=\"username\"\n                        rules={[{ required: true, message: 'Please input your name!' }]}\n                    >\n                        <Input placeholder=\"Username*\"/>\n                    </Form.Item>\n                    <Form.Item\n                        name=\"email\"\n                        rules={[{type: 'email', required: true, message: 'Please input your email!' }]}\n                    >\n                        <Input placeholder=\"Email*\" />\n                    </Form.Item>\n                    <Form.Item\n                        name=\"phone\"\n                        rules={[{ required: true, message: 'Please input your phone number!' }]}\n                    >\n                        <Input placeholder=\"Phone Number*\" />\n                    </Form.Item>\n                    <Form.Item\n                        name=\"portfolio link\"\n                    >\n                        <Input placeholder=\"Portfolio link\" />\n                    </Form.Item>\n                    <Form.Item name=\"message\">\n                        <Input.TextArea placeholder=\"Your message\"/>\n                    </Form.Item>\n                    <Form.Item name=\"CV\">\n                        <Upload listType=\"fileList\">\n                            <Button className=\"uploadBtn\">\n                                <span>\n                                    <svg width=\"18\" height=\"19\" viewBox=\"0 0 18 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                        <path d=\"M14.0129 7.41443L14.0129 7.4144C14.6831 6.75918 15.0618 5.86808 15.0618 4.93648C15.0618 4.00488 14.6831 3.11379 14.0129 2.45857C13.3431 1.80373 12.4371 1.43779 11.4946 1.43779C10.5521 1.43779 9.64604 1.80373 8.97624 2.45857L3.19532 8.11044C2.66403 8.61753 2.2402 9.22319 1.94893 9.89273C1.65724 10.5633 1.50446 11.2842 1.49979 12.0136C1.49511 12.7429 1.63864 13.4657 1.92173 14.1398C2.20482 14.8139 2.62167 15.4255 3.14754 15.9396C3.67338 16.4536 4.29777 16.8598 4.9842 17.1353C5.6706 17.4107 6.40574 17.55 7.14706 17.5454C7.88838 17.5407 8.62165 17.3922 9.30443 17.1082C9.9862 16.8246 10.6044 16.4113 11.1231 15.8918L16.5544 10.5826L17.2848 11.2967L11.8673 16.5932C11.2497 17.197 10.5159 17.6766 9.70745 18.004C8.89901 18.3314 8.03215 18.5 7.15646 18.5C6.28078 18.5 5.41392 18.3314 4.60548 18.004C3.79706 17.6766 3.06324 17.197 2.44562 16.5932C1.82803 15.9894 1.33874 15.2732 1.00514 14.4858C0.671545 13.6984 0.5 12.8549 0.5 12.0033C0.5 11.1517 0.671545 10.3082 1.00514 9.52082C1.33874 8.73341 1.82803 8.0172 2.44562 7.4134L8.22659 1.76348C9.09529 0.944696 10.2602 0.48988 11.4714 0.500171C12.6841 0.510473 13.8419 0.986103 14.6961 1.82122C15.5499 2.65599 16.0321 3.78284 16.0426 4.95841C16.053 6.13262 15.592 7.2661 14.7551 8.1148L8.97629 13.7676C8.73834 14.0002 8.45525 14.1853 8.14291 14.3117C7.83054 14.4382 7.49539 14.5034 7.15667 14.5033C6.81795 14.5033 6.48281 14.438 6.17048 14.3115C5.85817 14.185 5.57513 13.9998 5.33724 13.7672C5.09937 13.5346 4.91131 13.2591 4.78323 12.9567C4.65516 12.6543 4.58942 12.3306 4.58946 12.004C4.58949 11.6774 4.65531 11.3537 4.78346 11.0514C4.91161 10.749 5.09974 10.4735 5.33766 10.241L5.33771 10.2409L10.7713 4.92861L11.5017 5.64265L6.08797 10.9364C5.94371 11.0735 5.82793 11.2377 5.74786 11.42C5.66713 11.6037 5.62447 11.8017 5.62268 12.0024C5.6209 12.2032 5.66004 12.4019 5.73751 12.5871C5.81497 12.7722 5.92905 12.9396 6.07251 13.0798C6.21594 13.2201 6.38588 13.3304 6.57212 13.4049C6.75834 13.4794 6.95749 13.5167 7.15805 13.515C7.35862 13.5133 7.55711 13.4726 7.74203 13.3949C7.92548 13.3179 8.09229 13.2058 8.23257 13.0647L14.0129 7.41443Z\" fill=\"black\" stroke=\"black\"/>\n                                    </svg>\n                                </span>\n                                Attache your CV\n                            </Button>\n                        </Upload>\n                    </Form.Item>\n                    {/*<Button className=\"submit\" key=\"submit\" type=\"submit\" onClick={handleOk}>*/}\n                    {/*    Send*/}\n                    {/*</Button>*/}\n                    <Form.Item >\n                        <Button\n                            className=\"submit\" type=\"primary\" htmlType=\"submit\" onClick={submitHandler} >\n                            Send\n                        </Button>\n\n                    </Form.Item>\n                </Form>\n                    )}\n                </Formik>\n            </Modal>\n        </Layout>\n    );\n}\n\nexport async function getStaticProps() {\n    // Run API calls in parallel\n    const [vacancies, homepage] = await Promise.all([\n        fetchAPI(\"/vacancies\"),\n        fetchAPI(\"/homepage\"),\n        // fetchAPI(\"vacancies-message\")\n    ]);\n\n    return {\n        props: { vacancies, homepage},\n        revalidate: 1,\n    };\n}\n\n\nexport default Vacancies;\n"]},"metadata":{},"sourceType":"module"}